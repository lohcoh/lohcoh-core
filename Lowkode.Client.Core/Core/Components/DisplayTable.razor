
@using Microsoft.AspNetCore.Components.Rendering
@namespace Lowkode.Client.Core
@typeparam TModel
@inherits PlaceholderComponent<TModel>
@inject  IPartProvider PartProvider

@DisplayTableTemplate

@code {

    [Parameter]
    public virtual IReadOnlyList<TModel> Items { get; set; }

    RenderFragment DisplayTableTemplate { get; set; }

    protected override async Task OnInitializedAsync()
    {
        var partSpecification= new PartSpecification(this, typeof(TModel), null);
        var part= await PartProvider.GetRequiredComponentAsync<TModel>(partSpecification);

        DisplayTableTemplate = part.ToRenderFragment();
    }

}
