@using LowKode.Core.Metadata
@using LowKode.Core.Configuration
@using Microsoft.AspNetCore.Components.Forms
@namespace LowKode.Core.Components
@inject ILowkoderService lowkoder
    <Scope OnInit="BindModel">
        <InputSelect @bind-Value="MemberValue">
            <option value="">Select classification ...</option>
            <option value="Exploration">Exploration</option>
            <option value="Diplomacy">Diplomacy</option>
            <option value="Defense">Defense</option>
        </InputSelect>        
    </Scope>
@code {
    object Model;
    MemberPath MemberPath;

    public string MemberValue
    {
        get {
            var value= Convert.ToString(MemberPath.Get(Model));
            if (value == null)
                value = "";
            return value;
        }
        set { MemberPath.Set(Model, value); }
    }

    void BindModel(IComponentSite site)
    {
        Model = site.Context.SiteSpecification.Model;
        MemberPath = site.Context.SiteSpecification.ModelMember;
    }

}